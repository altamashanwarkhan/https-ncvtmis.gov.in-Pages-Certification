<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>e-Certificate Verification — Demo</title>
  <style>
    :root{
      --blue:#1e73be;
      --light-blue:#e9f4fb;
      --panel-border: #9cc8ea;
      --muted:#666;
      --card-bg: #fff;
      --max-width: 980px;
      --radius:6px;
      font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }
    body{
      margin:0;
      background:#f6f8fb;
      color:#222;
      display:flex;
      flex-direction:column;
      align-items:center;
      min-height:100vh;
      padding:20px;
    }

    /* Header similar to ministry */
    header{
      width:100%;
      max-width:var(--max-width);
      background:linear-gradient(90deg,var(--blue),#2b8ccf);
      color:white;
      padding:12px 18px;
      border-radius:8px;
      box-shadow:0 3px 8px rgba(0,0,0,0.08);
      display:flex;
      align-items:center;
      gap:12px;
    }
    header .crest{
      width:50px;
      height:56px;
      background: url('logo.png') center/cover no-repeat;
      border-radius:6px;
      flex-shrink:0;
    }
    header h1{font-size:18px;margin:0}
    header p{margin:0;font-size:13px;opacity:0.95}

    /* Main container */
    .container{
      width:100%;
      max-width:var(--max-width);
      margin-top:18px;
      display:grid;
      grid-template-columns:1fr;
      gap:14px;
    }

    .panel{
      background:var(--card-bg);
      border:1px solid var(--panel-border);
      border-radius:var(--radius);
      padding:14px;
      box-shadow:0 1px 4px rgba(0,0,0,0.03);
    }
    .panel-title{
      background:linear-gradient(90deg,var(--light-blue),#f1fbff);
      border:1px solid var(--panel-border);
      padding:8px 12px;
      margin:-14px -14px 12px -14px;
      border-top-left-radius:var(--radius);
      border-top-right-radius:var(--radius);
      font-weight:600;
      color:var(--blue);
    }

    /* form row */
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .field{flex:1;min-width:160px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type="text"], select{
      width:100%;
      padding:8px 10px;
      border:1px solid #cfdff0;
      border-radius:4px;
      font-size:14px;
      background:#fff;
    }
    .btn{
      display:inline-block;
      padding:9px 16px;
      background:var(--blue);
      color:white;
      border:none;
      border-radius:6px;
      font-weight:600;
      cursor:pointer;
      box-shadow:0 2px 6px rgba(30,115,190,0.15);
    }
    .btn.secondary{
      background:#fff;
      color:var(--blue);
      border:1px solid var(--panel-border);
      box-shadow:none;
    }

    /* Result box (certified trainee info) */
    .result{
      display:none;
      margin-top:6px;
      border-top:1px solid #eef6fb;
      padding-top:12px;
    }
    .info-table{width:100%;border-collapse:collapse}
    .info-table td{padding:8px 10px;border-bottom:1px solid #f1f6fb;font-size:14px}
    .info-table td.key{width:180px;color:var(--muted);font-weight:600}
    .info-actions{margin-top:10px;display:flex;gap:10px;align-items:center}
    .badge{
      display:inline-block;
      padding:6px 10px;
      border-radius:12px;
      font-weight:700;
      background:#e6f7ea;
      color:#1f7c36;
      border:1px solid #cfeed9;
      font-size:13px;
    }

    .not-found{
      padding:16px;
      background:#fff5f5;
      border:1px solid #ffd1d1;
      color:#9a1d1d;
      border-radius:6px;
    }

    /* small screens */
    @media (max-width:560px){
      header{padding:10px}
      .panel{padding:10px}
      .panel-title{padding:8px}
      .info-table td.key{width:140px}
    }

    /* footer note */
    .foot{
      margin-top:18px;font-size:13px;color:var(--muted);
      text-align:center;
    }
  </style>
</head>
<body>

  <header>
    <div class="crest" aria-hidden="true"></div>
    <div>
      <h1>Ministry of Skill Development And Entrepreneurship</h1>
      <p>e-Certificate Verification</p>
    </div>
  </header>

  <main class="container">
    <!-- Enter e-Certificate Number panel -->
    <section class="panel" aria-labelledby="enter-panel">
      <div class="panel-title" id="enter-panel">Enter e-Certificate Number</div>

      <div class="row">
        <div class="field">
          <label for="certNo">e-Certificate Number</label>
          <input id="certNo" type="text" placeholder="Only numbers allowed e.g. 191040000025730" inputmode="numeric" />
        </div>

        <div style="align-self:end">
          <button id="btnVerify" class="btn">Go</button>
        </div>
      </div>

      <!-- Result area -->
      <div id="resultArea" class="result" aria-live="polite">
        <!-- Filled by JS -->
      </div>
    </section>

    <!-- A small helpful panel (in screenshot there's nothing but footer) -->
    <section class="panel" aria-labelledby="help-panel">
      <div class="panel-title" id="help-panel">Certified Trainee Information</div>
      <p style="margin:0;color:var(--muted)">Enter a certificate number and click <strong>Go</strong>.</p>
    </section>

    <div class="foot">© 2015 Ministry of Skill Development And Entrepreneurship, Government of India.</div>
  </main>

  <script>
    // -------------------------
    // "database" of certificates
    // Replace this with real API calls / backend
    // -------------------------
    const sampleDB = {
      "176327031826": {
        traineeName: "Md Danish",
        fatherName: "Md Alsam",
        institute: "AK INSTITUTE OF TECHNICAL TRAINING",
        instituteAddress: "SHEIKHPURA, PATNA, BIHAR 811105",
        trade: "DIPLOMA IN INDUSTRIAL SAFETY & FIRE MANAGEMENT",
        trainingDuration: "Aug-2021 To Jul-2022",
        certified: "Yes",
        certificateIssueDate: "18-Nov-2019",
        type: "diploma"
      },
      "20220010000001": {
        traineeName: "SANGEETA KUMARI",
        fatherName: "RAM NATH",
        institute: "AK Institute",
        instituteAddress: "Patna, Bihar",
        trade: "Electrician",
        trainingDuration: "Jan-2020 To Dec-2020",
        certified: "Yes",
        certificateIssueDate: "15-Jan-2021",
        type: "short"
      }
    };

    // Helper to build result panel
    function buildResultHTML(data, id){
      const html = `
        <table class="info-table" role="table" aria-label="Certified Trainee Information">
          <tr><td class="key">Trainee Name</td><td>${escapeHtml(data.traineeName)}</td></tr>
          <tr><td class="key">Father Name</td><td>${escapeHtml(data.fatherName)}</td></tr>
          <tr><td class="key">Institute</td><td>${escapeHtml(data.institute)}</td></tr>
          <tr><td class="key">Institute Address</td><td>${escapeHtml(data.instituteAddress)}</td></tr>
          <tr><td class="key">Trade</td><td>${escapeHtml(data.trade)}</td></tr>
          <tr><td class="key">Training Duration</td><td>${escapeHtml(data.trainingDuration)}</td></tr>
          <tr><td class="key">Certified</td><td><span class="badge">${escapeHtml(data.certified)}</span></td></tr>
          <tr><td class="key">Certificate Issue Date</td><td>${escapeHtml(data.certificateIssueDate)}</td></tr>
        </table>

        <div class="info-actions">
          <button id="btnClose" class="btn secondary">Close</button>
          <button id="btnCopy" class="btn">Copy Public URL</button>
          <div style="margin-left:auto;color:var(--muted);font-size:13px">Certificate ID: <strong>${escapeHtml(id)}</strong></div>
        </div>
      `;
      return html;
    }

    function buildNotFoundHTML(id){
      return `
        <div class="not-found">
          Certificate <strong>${escapeHtml(id)}</strong> not found in records.
        </div>
        <div style="margin-top:10px">
          <button id="btnCloseNF" class="btn secondary">Close</button>
        </div>
      `;
    }

    // escape HTML to avoid injection in demo
    function escapeHtml(s){
      return String(s || '').replace(/[&<>"']/g, function(m){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]; });
    }

    // main verify logic
    const certNoInput = document.getElementById('certNo');
    const certTypeSelect = document.getElementById('certType');
    const btnVerify = document.getElementById('btnVerify');
    const resultArea = document.getElementById('resultArea');

    function showResultForId(id){
      const trimmed = (id || '').trim();
      if(!trimmed){
        alert('Please enter a certificate number.');
        return;
      }

      const rec = sampleDB[trimmed];
      if(rec){
        resultArea.innerHTML = buildResultHTML(rec, trimmed);
        resultArea.style.display = 'block';

        // update URL hash so it can act like public URL
        const params = new URLSearchParams(location.hash.replace(/^#/,''));
        params.set('certificate', trimmed);
        location.hash = params.toString();

        // attach actions
        document.getElementById('btnClose').addEventListener('click', ()=> {
          resultArea.style.display = 'none';
          location.hash = '';
        });
        document.getElementById('btnCopy').addEventListener('click', ()=>{
          const publicUrl = location.origin + location.pathname + '#certificate=' + encodeURIComponent(trimmed);
          navigator.clipboard?.writeText(publicUrl).then(()=> {
            alert('Public URL copied to clipboard:\n' + publicUrl);
          }, ()=> {
            prompt('Copy this URL:', publicUrl);
          });
        });

      } else {
        resultArea.innerHTML = buildNotFoundHTML(trimmed);
        resultArea.style.display = 'block';
        document.getElementById('btnCloseNF').addEventListener('click', ()=> {
          resultArea.style.display = 'none';
          location.hash = '';
        });
      }
    }

    btnVerify.addEventListener('click', ()=> {
      const id = certNoInput.value;
      showResultForId(id);
    });

    // enter key triggers
    certNoInput.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter') btnVerify.click();
    });

    // on load, check URL hash for certificate=...
    function readHashAndAutoShow(){
      const hash = location.hash.replace(/^#/,'');
      if(!hash) return;
      const params = new URLSearchParams(hash);
      const cert = params.get('certificate');
      if(cert){
        certNoInput.value = cert;
        // optional: auto-select type if provided
        const t = params.get('type');
        if(t) certTypeSelect.value = t;
        // small delay to ensure UI is ready
        setTimeout(()=> showResultForId(cert), 200);
      }
    }
    window.addEventListener('load', readHashAndAutoShow);

    // small helper: allow pasting long numbers but only digits kept
    certNoInput.addEventListener('input', ()=>{
      certNoInput.value = certNoInput.value.replace(/[^0-9]/g, '');
    });

  </script>
</body>
</html>
